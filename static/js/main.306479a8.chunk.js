(this["webpackJsonpphoto-meneger"]=this["webpackJsonpphoto-meneger"]||[]).push([[0],{103:function(e,t,n){e.exports={preloader:"Preloader_preloader__NKmg_",spinner:"Preloader_spinner__1N2E-",spin:"Preloader_spin__1xH_t"}},104:function(e,t,n){},167:function(e,t,n){},286:function(e,t,n){"use strict";n.r(t);var r=n(3),a=n.n(r),s=n(78),c=n.n(s),o=(n(167),n(19)),i=n(137),u=(n(104),n(14)),l=n(130),d=n(131),p=n(290),b=n(37),h=n(5),j=function(e){var t=e.input,n=e.meta,r=e.className,a=n.touched&&n.error,s="".concat(r).concat(n.active?" input-focused":"").concat(a?" input-error":"");return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("div",{className:"input-login-wrapper",children:[Object(h.jsx)("input",Object(b.a)({className:s},t)),a&&Object(h.jsx)("div",{className:"error-text-wrapper",children:Object(h.jsx)("div",{className:"error-text-message",children:n.error})})]})})},m=function(e){var t={};return e.email?/[.\w-]+@([\w-]+\.)+[\w-]+/g.test(e.email)||(t.email="Invalid email address"):t.email="Field is empty",e.password?e.password.length<5&&(t.password="less then 5 symbols"):t.password="Field is empty",e.repeatedPassword?e.repeatedPassword!==e.password&&(t.repeatedPassword="Password mismatch"):t.repeatedPassword="Field is empty",t},f=n(0),O=n.n(f),x=n(1),g=n(26),w=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.a,n=Object(g.d)(),e.next=4,Object(g.g)(n,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(x.a)(O.a.mark((function e(){var t,n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new g.b,n=Object(g.d)(),e.next=4,Object(g.g)(n,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a,s,c,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.prev=1,a=Object(g.d)(),e.next=5,Object(g.f)(a,n,r);case 5:return s=e.sent,c=s.user,e.abrupt("return",c);case 10:e.prev=10,e.t0=e.catch(1),e.t0.code,o=e.t0.message,console.log(o);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a,s,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a={},e.prev=2,s=Object(g.d)(),e.next=6,Object(g.c)(s,n,r);case 6:c=e.sent,a.signedUpUser=c.user,e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),a.error={},a.error.errorCode=e.t0.code,a.error.errorMessage=e.t0.message;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(x.a)(O.a.mark((function e(){var t;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(g.d)(),e.next=4,Object(g.h)(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),N=n(61),C=n(65),k=n(29),I=Object(k.b)("auth/logIn",function(){var e=Object(x.a)(O.a.mark((function e(t,n){var r,a,s;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,e.next=3,P({email:r,password:a});case 3:return(s=e.sent).reject&&n(Object(N.a)("signInForm",{_error:"Invalid email or password",email:" ",password:" "})),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),L=Object(k.b)("auth/signUp",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,e.next=3,S({email:n,password:r});case 3:if(!(a=e.sent).error){e.next=10;break}if("auth/email-already-in-use"!==a.error.errorCode){e.next=7;break}throw new C.a({_error:"email already exist",email:" ",password:" "});case 7:if("auth/invalid-email"!==a.error.errorCode){e.next=9;break}throw new C.a({_error:"invalid email",email:" ",password:" "});case 9:throw new C.a({_error:a.error.errorCode,email:" ",password:" "});case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(k.c)({name:"auth",initialState:{isAuth:!1,isFetchingLogIn:!1,isFetchingLogOut:!1,authUserProfile:{displayName:null,email:null,photoURL:null,emailVerified:null,uid:null}},reducers:{setAuthProfile:function(e,t){t.payload&&(e.isAuth=!0,e.authUserProfile=t.payload)},logOut:function(e,t){e.isFetchingLogOut=!1,e.isAuth=!1,e.authUserProfile={displayName:null,email:null,photoURL:null,emailVerified:null}},extraReducers:function(e){e.addCase(I.pending,(function(e,t){console.log("sadfkjashdfhasd"),e.isFetchingLogIn=!0})).addCase(I.fulfilled,(function(e,t){e.isFetchingLogIn=!1,e.isAuth=!0,e.authUserProfile=t.payload}))}}}),F=U.actions,_=F.setAuthProfile,M=F.logOut,A=U.reducer,E=Object(d.a)({form:"signUpForm",validate:m})((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"auth-form-container",onSubmit:e.handleSubmit(e.signUp),children:[Object(h.jsx)("span",{className:"auth-form-title",children:"Sign up"}),Object(h.jsx)("div",{className:"auth-input-label",children:"Username"}),Object(h.jsx)(l.a,{className:"auth-input",component:j,name:"email"}),Object(h.jsx)("div",{className:"auth-input-label",children:"Password"}),Object(h.jsx)(l.a,{className:"auth-input",component:j,name:"password",type:"password"}),Object(h.jsx)("div",{className:"auth-input-label",children:"Repeat password"}),Object(h.jsx)(l.a,{className:"auth-input",component:j,name:"repeatedPassword",type:"password"}),Object(h.jsx)("div",{className:"form-error-wrapper",children:Object(h.jsx)("div",{className:"form-error",children:e.error})}),Object(h.jsx)("div",{className:"auth-submit-container",children:Object(h.jsx)(p.a.button,{className:"auth-submit-button",type:"submit",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(120, 120, 158, 0.74)"},children:Object(h.jsx)("p",{children:"Sign Up"})})}),Object(h.jsx)("div",{className:"auth-signUp",children:Object(h.jsxs)("p",{children:["If a member, ",Object(h.jsx)(p.a.span,{className:"auth-text-link",onClick:e.signInForm,whileHover:{color:"rgb(78,65,113)"},children:"sign in"})]})})]})})})),H=Object(o.b)(null,{signUp:L})(E),T=function(){return Object(h.jsx)("a",{href:"https://github.com/alterrant/Photo-meneger",children:Object(h.jsx)("div",{className:"GitHubSVG",children:Object(h.jsxs)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(h.jsx)("title",{}),Object(h.jsx)("g",{"data-name":"Github 1",id:"Github_1",children:Object(h.jsx)("g",{"data-name":"<Group>",id:"_Group_",children:Object(h.jsx)("path",{d:"M12,.5A11.5,11.5,0,0,0,.5,12a11.82,11.82,0,0,0,9,11.5v-3h-1c-2.62,0-3.54-4-5-4,\r 2.79,0,3.33,2,5,2a.89.89,0,0,0,1-1v-.35c-2.91-.82-5-3-5-5.65A5.26,5.26,0,0,1,6.07,7.84,\r 3.16,3.16,0,0,1,6.5,4.5,5.26,5.26,0,0,1,8.88,6a9.14,9.14,0,0,1,6.24,0A5.26,5.26,0,0,1,17.5,\r 4.5a3.16,3.16,0,0,1,.43,3.34A5.26,5.26,0,0,1,19.5,11.5c0,2.74-2.29,5-5.42,5.76a4.68,4.68,0,\r 0,1,.42,2.24v4a11.82,11.82,0,0,0,9-11.5A11.5,11.5,0,0,0,12,.5Z","data-name":"<Path>",id:"_Path_",style:{fill:"none",stroke:"#555555",strokeLinecap:"round",strokeLinejoin:"round"}})})})]})})})},B=Object(d.a)({form:"signInForm",validate:m})((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)("form",{className:"auth-form-container",onSubmit:e.handleSubmit((function(t){var n=t.email,r=t.password;e.logIn({email:n,password:r})})),children:[Object(h.jsx)("span",{className:"auth-form-title",children:"Sign In With"}),Object(h.jsxs)("div",{className:"login-button-wrapper",children:[Object(h.jsxs)(p.a.div,{onClick:w,className:"auth-github login-button",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(31, 69, 112, 1)"},children:[Object(h.jsx)(T,{}),"GitHub"]}),Object(h.jsx)(p.a.div,{onClick:v,className:"auth-google login-button",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(31, 69, 112, 1)"},children:"Google"})]}),Object(h.jsx)("div",{className:"auth-input-label",children:"Email"}),Object(h.jsx)(l.a,{className:"auth-input",component:j,name:"email"}),Object(h.jsx)("div",{className:"auth-input-label",children:"Password"}),Object(h.jsx)(l.a,{className:"auth-input",component:j,name:"password",type:"password"}),Object(h.jsx)("div",{className:"form-error-wrapper",children:Object(h.jsx)("div",{className:"form-error",children:e.error})}),Object(h.jsx)("div",{className:"auth-submit-container",children:Object(h.jsx)(p.a.button,{className:"auth-submit-button",type:"submit",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(120, 120, 158, 0.74)"},children:Object(h.jsx)("p",{children:"Sign In"})})}),Object(h.jsx)("div",{className:"auth-signUp",children:Object(h.jsxs)("p",{children:["Not a member? ",Object(h.jsx)(p.a.span,{className:"auth-text-link",onClick:e.signUpForm,whileHover:{color:"rgb(78,65,113)"},children:"Sign up now"})]})})]})})})),R=Object(o.b)(null,{logIn:I})(B),z={authLogin:"signInEmailPass"},G=Object(k.c)({name:"loginList",initialState:z,reducers:{setEmailPassLogin:function(e,t){e.authLogin="signInEmailPass"},setSignUp:function(e,t){e.authLogin="signUp"}}}),Z=G.actions,D=Z.setEmailPassLogin,V=Z.setSignUp,K=G.reducer,J=function(){var e=Object(r.useReducer)(K,z),t=Object(u.a)(e,2),n=t[0],a=t[1];switch(n.authLogin){case"signUp":return Object(h.jsx)(H,{signInForm:function(){return a(D())}});case"signInEmailPass":return Object(h.jsx)(R,{signUpForm:function(){return a(V())}})}},W=function(){return Object(h.jsx)("div",{className:"auth-wrapper",children:Object(h.jsx)("div",{className:"auth-container",children:Object(h.jsx)("div",{className:"auth-content",children:Object(h.jsx)(J,{})})})})},X=function(e){return function(t){if(e){var n=function(e){var t={},n=e.uid,r=e.email,a=e.emailVerified,s=e.displayName,c=e.isAnonymous,o=e.photoURL,i=e.phoneNumber,u=e.metadata,l=u.creationTime,d=u.lastSignInTime;return n&&(t.uid=n),r&&(t.email=r),a&&(t.emailVerified=a),s&&(t.displayName=s),c&&(t.isAnonymous=c),o&&(t.photoURL=o),i&&(t.phoneNumber=i),l&&(t.creationTime=l),d&&(t.lastSignInTime=d),t}(e);t(_(n))}t(q())}},Y=Object(k.c)({name:"initialiseApp",initialState:{isInitialized:!1},reducers:{setInitializedSuccess:function(e){e.isInitialized=!0}}}),q=Y.actions.setInitializedSuccess,Q=Y.reducer,$=n(103),ee=n.n($),te=function(){return Object(h.jsx)("div",{className:ee.a.preloader,children:Object(h.jsx)("div",{className:ee.a.spinner})})},ne=function(){var e=Object(o.c)();return Object(h.jsx)("div",{children:Object(h.jsx)(p.a.button,{className:"buttonLogOut",whileHover:{boxShadow:"3px 3px 3px rgba(63, 44, 138, 0.49)"},onClick:function(){return e((function(e){y(),e(M())}))},children:"Sign Out"})})},re=function(){return Object(h.jsxs)("header",{children:[Object(h.jsx)(T,{}),Object(h.jsx)(ne,{})]})},ae=function(e){var t=e.user,n=void 0===t?"My":t;return Object(h.jsx)("h1",{className:"text",children:"".concat(n," Pictures")})},se=n(289),ce={hidden:{opacity:0},visible:{opacity:1,transition:{duration:2,ease:"easeInOut"}}},oe=function(e){var t=e.width,n=void 0===t?"24px":t,a=e.height,s=void 0===a?"24px":a,c=(e.fill,Object(r.useState)("rgb(102,102,255)")),o=Object(u.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(!1),b=Object(u.a)(d,2),j=(b[0],b[1]);return Object(h.jsx)(se.a,{transition:{duration:.2},children:Object(h.jsxs)(p.a.svg,{width:n,height:s,variants:ce,initial:"hidden",animate:"visible",transition:{duration:2},onHoverStart:function(e){l("#ad78e2"),j(!0)},onHoverEnd:function(e){l("rgb(102,102,255)"),j(!1)},version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512",children:[Object(h.jsx)(p.a.path,{animate:{fill:i},d:"M256,11C120.9,11,11,120.9,11,256s109.9,245,245,245s245-109.9,245-245S391.1,11,256,11z M256,460.2\r c-112.6,0-204.2-91.6-204.2-204.2S143.4,51.8,256,51.8S460.2,143.4,460.2,256S368.6,460.2,256,460.2z",fill:"rgb(102,102,255)"}),Object(h.jsx)(p.a.path,{animate:{fill:i},d:"m357.6,235.6h-81.2v-81.2c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v81.2h-81.2c-11.3,\r 0-20.4,9.1-20.4,20.4s9.1,20.4 20.4,20.4h81.2v81.2c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-81.2h81.2c11.3,0 20.4-9.1 20.4-20.4s-9.1-20.4-20.4-20.4z",fill:"rgb(102,102,255)"})]})})},ie=n(25),ue=n(42),le=n(136),de=n(32);Object(le.a)({apiKey:"AIzaSyCabll9MrWiJ49ycRHOa43D9l8lHHlo-6s",authDomain:"photo-meneger.firebaseapp.com",projectId:"photo-meneger",storageBucket:"photo-meneger.appspot.com",messagingSenderId:"187018482745",appId:"1:187018482745:web:74ea2a0c06a33fb66929e8",measurementId:"G-2MRR3CB7KB"});var pe=Object(ue.c)(),be=Object(de.e)(),he=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a,s,c,o,i,u;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.file,a=t.setProgress,s=t.setError,c=t.setUrl,o=Object(ue.d)(pe,"user_".concat(n)),i=Object(ue.d)(o,r.name),u=Object(de.g)(),Object(ue.e)(i,r).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;a(t)}),(function(e){s(e)}),Object(x.a)(O.a.mark((function e(){var t,a,s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(ue.b)(i);case 2:return t=e.sent,c(t),a={addedTime:u,name:r.name,imageUrl:t},e.next=7,Object(de.a)(Object(de.b)(be,"user_".concat(n)),a);case 7:return s=e.sent,o=s.id,e.next=11,Object(de.h)(Object(de.d)(be,"common_photos",o),a);case 11:case"end":return e.stop()}}),e)})))),e.abrupt("return","newPhotoAdded");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.userId,r=t.imageName,a=t.imageFirebaseId,e.next=3,me({userId:n,imageName:r,imageFirebaseId:a});case 3:return e.next=5,fe({imageFirebaseId:a});case 5:return e.abrupt("return","delettingPhotoSuccess");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(e){var t=e.userId,n=e.imageName,r=e.imageFirebaseId,a=Object(ue.d)(pe,"user_".concat(t,"/").concat(n));Object(ue.a)(a).then((function(){console.log("Photo has been deleted: ")})).catch((function(e){console.log("Error deleting photo: ",e)})),Object(de.c)(Object(de.d)(be,"user_".concat(t),"".concat(r)))},fe=function(e){var t=e.imageFirebaseId;Object(de.c)(Object(de.d)(be,"common_photos","".concat(t)))},Oe=function(){var e=Object(x.a)(O.a.mark((function e(t,n,r){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(de.f)(Object(de.b)(be,"common_photos"),(function(e){var a=[];(e.forEach((function(e){a.push(Object(b.a)({id:e.id},e.data()))})),"subscribe"===t)&&(a.length!==r.length&&n(a))})),e.abrupt("return","commonPhotosSnapshotSuccess");case 2:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),xe=function(){var e=Object(x.a)(O.a.mark((function e(t,n,r,a){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Object(de.f)(Object(de.b)(be,n),(function(e){var n=[];(e.forEach((function(e){n.push(Object(b.a)({id:e.id},e.data()))})),"subscribe"===t)&&(n.length!==a.length&&r(n))})),e.abrupt("return","userPhotosSnapshotSuccess");case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),ge=function(e){var t=we(e);return ve(t)},we=function(e){return Object(ie.a)(e).map((function(e){return Object(b.a)(Object(b.a)({},e),{},{addedTime:Object(b.a)({},e.addedTime)})}))},ve=function(e){return e.sort((function(e,t){if(t.addedTime&&e.addedTime)return t.addedTime.seconds-e.addedTime.seconds}))},Pe=Object(k.c)({name:"photoStorage",initialState:{isLookingMyPhotos:!0,isLoadingNewPhoto:!1,isLoadingUserPhotos:!1,isLoadingCommonPhotos:!1,isDeletingPhoto:!1,userPhotos:[],commonPhotos:[]},reducers:{setStatusLookingPhotos:function(e){e.isLookingMyPhotos=!e.isLookingMyPhotos}},extraReducers:function(e){e.addCase(Se.pending,(function(e){e.isLoadingNewPhoto=!0})).addCase(Se.fulfilled,(function(e){e.isLoadingNewPhoto=!1})).addCase(ye.pending,(function(e){e.isDeletingPhoto=!0})).addCase(ye.fulfilled,(function(e){e.isDeletingPhoto=!1})).addCase(Ne.pending,(function(e){e.isLoadingCommonPhotos=!0})).addCase(Ne.fulfilled,(function(e,t){e.isLoadingCommonPhotos=!1,e.commonPhotos=t.payload})).addCase(Ce.pending,(function(e){e.isLoadingUserPhotos=!0})).addCase(Ce.fulfilled,(function(e,t){e.isLoadingUserPhotos=!1,e.userPhotos=t.payload}))}}),Se=Object(k.b)("photoStorage/addNewPhoto",function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ye=Object(k.b)("photoStorage/deletePhoto",function(){var e=Object(x.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,je(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ne=Object(k.b)("photoStorage/subscribeCommonPhotos",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.setUrlImages,r=t.urlImages,e.next=3,Oe("subscribe",n,r);case 3:return e.abrupt("return",ge(r));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ce=Object(k.b)("photoStorage/subscribeUserPhotos",function(){var e=Object(x.a)(O.a.mark((function e(t){var n,r,a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,r=t.setUrlImages,a=t.urlImages,e.next=3,xe("subscribe",n,r,a);case 3:return e.abrupt("return",ge(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),ke=Pe.actions.setStatusLookingPhotos,Ie=Pe.reducer,Le=Object(o.b)((function(e){return{userId:e.auth.authUserProfile.uid}}),{addNewPhoto:Se})((function(e){var t=e.file,n=e.setFile,a=e.userId,s=e.addNewPhoto,c=Object(r.useState)(0),o=Object(u.a)(c,2),i=o[0],l=o[1],d=Object(r.useState)(null),b=Object(u.a)(d,2),j=(b[0],b[1]),m=Object(r.useState)(null),f=Object(u.a)(m,2),O=f[0],x=f[1];return Object(r.useEffect)((function(){s({userId:a,file:t,setProgress:l,setError:j,setUrl:x})}),[t]),Object(r.useEffect)((function(){O&&n(null)}),[O]),Object(h.jsx)(p.a.div,{className:"progress-bar",initial:{width:0},animate:{width:i+"%"}})})),Ue=function(){var e=Object(r.useState)(null),t=Object(u.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(null),c=Object(u.a)(s,2),o=c[0],i=c[1],l=["image/png","image/jpeg"];return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)("div",{className:"wrapper-input",children:[Object(h.jsx)("input",{className:"inputfile",type:"file",onChange:function(e){var t=e.target.files[0];t&&l.includes(t.type)?(a(t),i("")):(a(null),i("Please choose png or jpeg file"))},id:"inputImage"}),Object(h.jsx)("label",{className:"inputImage",htmlFor:"inputImage",children:Object(h.jsx)(oe,{})})]}),Object(h.jsxs)("div",{className:"output",children:[o&&Object(h.jsx)("div",{className:"error",children:o}),n&&Object(h.jsx)("div",{children:n.name}),n&&Object(h.jsx)(Le,{file:n,setFile:a})]})]})},Fe=function(){return Object(h.jsxs)(p.a.svg,{className:"delete-picture",opacity:.7,whileHover:{opacity:1},xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24px",height:"24px",children:[Object(h.jsxs)("defs",{children:[Object(h.jsxs)("linearGradient",{id:"linear0",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(h.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(h.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(h.jsxs)("linearGradient",{id:"linear1",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(h.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(h.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(h.jsxs)("linearGradient",{id:"linear2",gradientUnits:"userSpaceOnUse",x1:"113",y1:"73.566528",x2:"113",y2:"150.777313",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(h.jsx)("stop",{offset:"0",style:{stopColor:"rgb(100%, 100%, 100%)",stopOpacity:1}}),Object(h.jsx)("stop",{offset:"1",style:{stopColor:"rgb(69.803923%, 54.901963%, 94.509804%)",stopOpacity:1}})]})]}),Object(h.jsxs)("g",{id:"surface28850912",children:[Object(h.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear0)"},d:"M 12 21.75 C 6.625 21.75 2.25 17.375 2.25 12 C 2.25 6.625 6.625 2.25 12 2.25 C 17.375 2.25 21.75 6.625 21.75 12 C 21.75 17.375 17.375 21.75 12 21.75 Z M 12 3 C 7.039062 3 3 7.039062 3 12 C 3 16.960938 7.039062 21 12 21 C 16.960938 21 21 16.960938 21 12 C 21 7.039062 16.960938 3 12 3 Z M 12 3 "}),Object(h.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear1)"},d:"M 12 19.5 C 7.863281 19.5 4.5 16.136719 4.5 12 C 4.5 7.863281 7.863281 4.5 12 4.5 C 16.136719 4.5 19.5 7.863281 19.5 12 C 19.5 16.136719 16.136719 19.5 12 19.5 Z M 12 5.25 C 8.277344 5.25 5.25 8.277344 5.25 12 C 5.25 15.722656 8.277344 18.75 12 18.75 C 15.722656 18.75 18.75 15.722656 18.75 12 C 18.75 8.277344 15.722656 5.25 12 5.25 Z M 12 5.25 "}),Object(h.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear2)"},d:"M 15.257812 9.273438 L 14.726562 8.738281 C 14.574219 8.585938 14.324219 8.585938 14.171875 8.738281 L 12 10.910156 L 9.828125 8.742188 C 9.675781 8.585938 9.425781 8.585938 9.273438 8.742188 L 8.742188 9.273438 C 8.585938 9.425781 8.585938 9.675781 8.742188 9.828125 L 10.910156 12 L 8.742188 14.171875 C 8.585938 14.324219 8.585938 14.574219 8.742188 14.726562 L 9.273438 15.257812 C 9.425781 15.414062 9.675781 15.414062 9.828125 15.257812 L 12 13.089844 L 14.171875 15.257812 C 14.324219 15.414062 14.574219 15.414062 14.726562 15.257812 L 15.257812 14.726562 C 15.414062 14.574219 15.414062 14.324219 15.257812 14.171875 L 13.089844 12 L 15.257812 9.828125 C 15.414062 9.675781 15.414062 9.425781 15.257812 9.273438 Z M 15.257812 9.273438 "})]})]})},_e=Object(o.b)((function(e){return{userId:e.auth.authUserProfile.uid}}),{deletePhoto:ye})((function(e){var t=e.imageName,n=e.imageFirebaseId,r=e.userId,a=e.deletePhoto;return Object(h.jsx)("div",{onClick:function(){a({imageName:t,imageFirebaseId:n,userId:r})},children:Object(h.jsx)(Fe,{})})})),Me=function(e){var t=e.setSelectedPhoto,n=e.photos,r=Object(o.d)((function(e){return e.photoStorage.isLookingMyPhotos})),a=n.map((function(e){return Object(h.jsxs)(p.a.li,{className:"image-wrapper",layout:!0,transition:{duration:.275},whileHover:{opacity:1,boxShadow:"8px 8px 15px 3px rgba(128,0,128,0.5)"},children:[r&&Object(h.jsx)(_e,{imageName:e.name,imageFirebaseId:e.id}),Object(h.jsx)("img",{onClick:function(){return t(e.imageUrl)},src:e.imageUrl,alt:"imageFromBase"})]},e.id)}));return Object(h.jsx)(h.Fragment,{children:a})},Ae=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.photoStorage.userPhotos})),n=Object(o.d)((function(e){return e.auth.authUserProfile.uid})),a=Object(r.useState)([]),s=Object(u.a)(a,2),c=s[0],i=s[1],l="user_".concat(n);return Object(r.useEffect)((function(){return e(Ce({user:l,setUrlImages:i,urlImages:c})),function(){return e(function(e){return function(){xe("unSubscribe",e)}}(l))}}),[c]),[t]},Ee=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.photoStorage.commonPhotos})),n=Object(r.useState)([]),a=Object(u.a)(n,2),s=a[0],c=a[1];return Object(r.useEffect)((function(){return e(Ne({setUrlImages:c,urlImages:s})),function(){return e((function(){Oe("unSubscribe")}))}}),[s]),[t]},He=function(e){var t,n=Ae(),r=Object(u.a)(n,1)[0];switch(r&&r.length){case 1:t="one-photo-grid";break;case 2:t="two-photo-grid";break;default:t="photos-wrapper"}return Object(h.jsx)("div",{children:Object(h.jsx)("ul",{className:t,children:Object(h.jsx)(Me,Object(b.a)(Object(b.a)({},e),{},{photos:r}))})})},Te=function(e){var t=e.selectedPhoto,n=e.setSelectedPhoto;return Object(h.jsx)("div",{onClick:function(e){e.target.classList.contains("selectedPhoto-wrapper")&&n(null)},className:"selectedPhoto-wrapper",children:Object(h.jsx)(p.a.img,{src:t,alt:"selectedPhoto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.275}})})},Be=function(e){var t=e.selectedPhoto;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ae,{}),Object(h.jsx)(Ue,{fill:"#8A2BE2",stroke:"#8A2BE2"}),Object(h.jsx)(He,{setSelectedPhoto:t.setSelectedPhoto}),t.selectedPhoto&&Object(h.jsx)(Te,{selectedPhoto:t.selectedPhoto,setSelectedPhoto:t.setSelectedPhoto})]})},Re=function(e){var t,n=e.selectedPhoto,r=Ee(),a=Object(u.a)(r,1)[0];switch(a&&a.length){case 1:t="one-photo-grid";break;case 2:t="two-photo-grid";break;default:t="photos-wrapper"}return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(ae,{user:"Common"}),Object(h.jsx)("div",{className:"common-photo-wrapper",children:Object(h.jsx)("ul",{className:t,children:Object(h.jsx)(Me,{setSelectedPhoto:n.setSelectedPhoto,photos:a})})}),n.selectedPhoto&&Object(h.jsx)(Te,{selectedPhoto:n.selectedPhoto,setSelectedPhoto:n.setSelectedPhoto})]})},ze=n(85),Ge=n.n(ze),Ze=function(e){var t=e.isOn,n=e.handleToggle,r=e.onColor;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("input",{checked:t,onChange:n,className:Ge.a.reactSwitchCheckbox,id:"react-switch-new",type:"checkbox"}),Object(h.jsx)("label",{style:{background:t&&r},className:Ge.a.reactSwitchLabel,htmlFor:"react-switch-new",children:Object(h.jsx)("span",{className:Ge.a.reactSwitchButton})})]})},De=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.photoStorage.isLookingMyPhotos}));return Object(h.jsxs)("div",{className:"switchPhotosWrapper",children:[Object(h.jsx)(Ze,{isOn:t,onColor:"#7366bd",handleToggle:function(){return e(ke())}}),Object(h.jsx)("p",{className:"switchPhotosLabel",children:t?"Swipe to view common pictures":"Swipe to view my pictures"})]})},Ve=function(){var e=Object(o.d)((function(e){return e.photoStorage.isLookingMyPhotos})),t=Object(r.useState)(null),n=Object(u.a)(t,2),a={selectedPhoto:n[0],setSelectedPhoto:n[1]};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(De,{}),e?Object(h.jsx)(Be,{selectedPhoto:a}):Object(h.jsx)(Re,{selectedPhoto:a})]})};var Ke=function(){return Object(h.jsxs)("div",{className:"main-wrapper",children:[Object(h.jsx)(re,{}),Object(h.jsx)(Ve,{})]})};var Je=function(){var e=Object(o.c)(),t=Object(o.d)((function(e){return e.auth.isAuth})),n=Object(o.d)((function(e){return e.initialiseApp.isInitialized}));return Object(r.useEffect)((function(){var t=Object(g.d)();Object(g.e)(t,(function(t){e(t?X(t):X())}))}),[]),n?Object(h.jsx)(h.Fragment,{children:t?Object(h.jsx)(Ke,{}):Object(h.jsx)(W,{})}):Object(h.jsx)(te,{})},We=n(132),Xe=Object(k.a)({reducer:{initialiseApp:Q,auth:A,photoStorage:Ie,form:We.a}});c.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(i.a,{children:Object(h.jsx)(o.a,{store:Xe,children:Object(h.jsx)(Je,{})})})}),document.getElementById("root"))},85:function(e,t,n){e.exports={reactSwitchCheckbox:"Switch_reactSwitchCheckbox__fjOKg",reactSwitchLabel:"Switch_reactSwitchLabel__2fSYf",reactSwitchButton:"Switch_reactSwitchButton__2bzhS"}}},[[286,1,2]]]);
//# sourceMappingURL=main.306479a8.chunk.js.map