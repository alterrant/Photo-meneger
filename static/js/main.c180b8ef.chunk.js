(this["webpackJsonpphoto-meneger"]=this["webpackJsonpphoto-meneger"]||[]).push([[0],{103:function(e,t,r){e.exports={preloader:"Preloader_preloader__T60r3",spinner:"Preloader_spinner__1GcI2",spin:"Preloader_spin__3nsEv"}},115:function(e,t,r){},167:function(e,t,r){},284:function(e,t,r){"use strict";r.r(t);var n=r(4),a=r.n(n),c=r(77),s=r.n(c),i=(r(167),r(21)),o=r(26),l=r(132),u=r(19),d=r(27),j=r(0),b=r.n(j),h=r(2),p=function(){var e=Object(h.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.a,r=Object(d.d)(),e.next=4,Object(d.g)(r,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(h.a)(b.a.mark((function e(){var t,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new d.b,r=Object(d.d)(),e.next=4,Object(d.g)(r,t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,n,a,c,s,i;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,e.prev=1,a=Object(d.d)(),e.next=5,Object(d.f)(a,r,n);case 5:return c=e.sent,s=c.user,e.abrupt("return",s);case 10:e.prev=10,e.t0=e.catch(1),e.t0.code,i=e.t0.message,console.log(i);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(h.a)(b.a.mark((function e(t){var r,n,a,c,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,n=t.password,a={},e.prev=2,c=Object(d.d)(),e.next=6,Object(d.c)(c,r,n);case 6:s=e.sent,a.signedUpUser=s.user,e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),a.error={},a.error.errorCode=e.t0.code,a.error.errorMessage=e.t0.message;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=Object(d.d)(),e.next=4,Object(d.h)(t);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),g=r(60),v=r(64),w="PHOTO_MANAGER/AUTH_REDUCER/SET_AUTH_SUCCESS",S="PHOTO_MANAGER/AUTH_REDUCER/SET_AUTH_OUT",N="PHOTO_MANAGER/AUTH_REDUCER/SET_AUTH_PROFILE",P={isAuth:!1,authUserProfile:{displayName:null,email:null,photoURL:null,emailVerified:null,uid:null}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return Object(u.a)(Object(u.a)({},e),{},{isAuth:!0});case N:return Object(u.a)(Object(u.a)({},e),{},{authUserProfile:Object(u.a)(Object(u.a)({},e.authUserProfile),t.authProfile)});case S:return Object(u.a)(Object(u.a)({},e),{},{isAuth:!1,authUserProfile:{displayName:null,email:null,photoURL:null,emailVerified:null}});default:return e}},y=function(){return{type:w}},I=function(e){return{type:N,authProfile:e}},C=function(e){return function(t){t(y()),t(I(e))}},E="PHOTO_MANAGER/INITIALISE_APP/SET_INITIALIZED_SUCCESS",U="PHOTO_MANAGER/INITIALISE_APP/UPDATE_STATUS_AUTHORISED_USER",T={isFetchingAuthState:!0,isInitialized:!1,auth:null},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return Object(u.a)(Object(u.a)({},e),{},{isInitialized:!0});case U:return Object(u.a)(Object(u.a)({},e),{},{userId:t.userId});default:return e}},L=function(e){return function(t){e&&(t(I(function(e){var t=e.currentUser;if(null!==t)return{displayName:t.displayName,email:t.email,photoUrl:t.photoURL,emailVerified:t.emailVerified,uid:t.uid}}(e.auth))),t(y())),t({type:E})}},k=r(41),H=r(134),F=r(28);Object(H.a)({apiKey:"AIzaSyCabll9MrWiJ49ycRHOa43D9l8lHHlo-6s",authDomain:"photo-meneger.firebaseapp.com",projectId:"photo-meneger",storageBucket:"photo-meneger.appspot.com",messagingSenderId:"187018482745",appId:"1:187018482745:web:74ea2a0c06a33fb66929e8",measurementId:"G-2MRR3CB7KB"});var G=Object(k.c)(),M=Object(F.e)(),R=function(e){var t=e.userId,r=e.imageName,n=e.imageFirebaseId,a=Object(k.d)(G,"user_".concat(t,"/").concat(r));Object(k.a)(a).then((function(){console.log("Photo has been deleted: ")})).catch((function(e){console.log("Error deleting photo: ",e)})),Object(F.c)(Object(F.d)(M,"user_".concat(t),"".concat(n)))},D=function(e){var t=e.imageFirebaseId;Object(F.c)(Object(F.d)(M,"common_photos","".concat(t)))},z="GET_USER_PHOTOS",B="GET_COMMON_PHOTOS",Z="LOADING_PHOTO_TOGGLE",V="DELETING_PHOTO_TOGGLE",J="LOOKING_MY_PHOTO_TOGGLE",K={isLookingMyPhotos:!0,isLoadingPhoto:!1,isDeletingPhoto:!1,authUserPhotos:null,commonPhotos:[]},W=function(e){return{type:Z,isLoadingPhoto:e}},X=function(e){return{type:V,isDeleting:e}},Y={initialiseApp:A,auth:_,photoStorage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J:return Object(u.a)(Object(u.a)({},e),{},{isLookingMyPhotos:!e.isLookingMyPhotos});case z:return Object(u.a)(Object(u.a)({},e),{},{authUserPhotos:t.photos});case B:return Object(u.a)(Object(u.a)({},e),{},{commonPhotos:t.commonPhotos});case Z:return Object(u.a)(Object(u.a)({},e),{},{isLoadingPhoto:t.isLoadingPhoto});case V:return Object(u.a)(Object(u.a)({},e),{},{isDeletingPhoto:t.isDeletingPhoto});default:return e}},form:l.a},q=Object(o.c)(Y),Q=r(136),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||o.d,ee=Object(o.e)(q,$(Object(o.a)(Q.a))),te=r(137),re=(r(115),r(15)),ne=r(130),ae=r(131),ce=r(289),se=r(5),ie=function(e){var t=e.input,r=e.meta,n=e.className,a=r.touched&&r.error,c="".concat(n).concat(r.active?" input-focused":"").concat(a?" input-error":"");return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("div",{className:"input-login-wrapper",children:[Object(se.jsx)("input",Object(u.a)({className:c},t)),a&&Object(se.jsx)("div",{className:"error-text-wrapper",children:Object(se.jsx)("div",{className:"error-text-message",children:r.error})})]})})},oe=function(e){var t={};return e.email?/[.-\w]+@([\w-]+\.)+[\w-]+/g.test(e.email)||(t.email="Invalid email address"):t.email="Field is empty",e.password?e.password.length<5&&(t.password="less then 5 symbols"):t.password="Field is empty",e.repeatedPassword?e.repeatedPassword!==e.password&&(t.repeatedPassword="Password mismatch"):t.repeatedPassword="Field is empty",t},le=Object(ae.a)({form:"signUpForm",validate:oe})((function(e){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("form",{className:"auth-form-container",onSubmit:e.handleSubmit(e.signUp),children:[Object(se.jsx)("span",{className:"auth-form-title",children:"Sign up"}),Object(se.jsx)("div",{className:"auth-input-label",children:"Username"}),Object(se.jsx)(ne.a,{className:"auth-input",component:ie,name:"email"}),Object(se.jsx)("div",{className:"auth-input-label",children:"Password"}),Object(se.jsx)(ne.a,{className:"auth-input",component:ie,name:"password",type:"password"}),Object(se.jsx)("div",{className:"auth-input-label",children:"Repeat password"}),Object(se.jsx)(ne.a,{className:"auth-input",component:ie,name:"repeatedPassword",type:"password"}),Object(se.jsx)("div",{className:"form-error-wrapper",children:Object(se.jsx)("div",{className:"form-error",children:e.error})}),Object(se.jsx)("div",{className:"auth-submit-container",children:Object(se.jsx)(ce.a.button,{className:"auth-submit-button",type:"submit",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(120, 120, 158, 0.74)"},children:Object(se.jsx)("p",{children:"Sign Up"})})}),Object(se.jsx)("div",{className:"auth-signUp",children:Object(se.jsxs)("p",{children:["If a member, ",Object(se.jsx)(ce.a.span,{className:"auth-text-link",onClick:e.signInForm,whileHover:{color:"rgb(78,65,113)"},children:"sign in"})]})})]})})})),ue=Object(i.b)(null,{signUp:function(e){var t=e.email,r=e.password;return function(){var e=f({email:t,password:r});if(e.error){if("auth/email-already-in-use"===e.error.errorCode)throw new v.a({_error:"email already exist",email:" ",password:" "});if("auth/invalid-email"===e.error.errorCode)throw new v.a({_error:"invalid email",email:" ",password:" "});throw new v.a({_error:e.error.errorCode,email:" ",password:" "})}}}})(le),de=function(){return Object(se.jsx)("div",{className:"GitHubSVG",children:Object(se.jsxs)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(se.jsx)("title",{}),Object(se.jsx)("g",{"data-name":"Github 1",id:"Github_1",children:Object(se.jsx)("g",{"data-name":"<Group>",id:"_Group_",children:Object(se.jsx)("path",{d:"M12,.5A11.5,11.5,0,0,0,.5,12a11.82,11.82,0,0,0,9,11.5v-3h-1c-2.62,0-3.54-4-5-4,\r 2.79,0,3.33,2,5,2a.89.89,0,0,0,1-1v-.35c-2.91-.82-5-3-5-5.65A5.26,5.26,0,0,1,6.07,7.84,\r 3.16,3.16,0,0,1,6.5,4.5,5.26,5.26,0,0,1,8.88,6a9.14,9.14,0,0,1,6.24,0A5.26,5.26,0,0,1,17.5,\r 4.5a3.16,3.16,0,0,1,.43,3.34A5.26,5.26,0,0,1,19.5,11.5c0,2.74-2.29,5-5.42,5.76a4.68,4.68,0,\r 0,1,.42,2.24v4a11.82,11.82,0,0,0,9-11.5A11.5,11.5,0,0,0,12,.5Z","data-name":"<Path>",id:"_Path_",style:{fill:"none",stroke:"#555555",strokeLinecap:"round",strokeLinejoin:"round"}})})})]})})},je=Object(ae.a)({form:"signInForm",validate:oe})((function(e){return Object(se.jsx)(se.Fragment,{children:Object(se.jsxs)("form",{className:"auth-form-container",onSubmit:e.handleSubmit((function(t){var r=t.email,n=t.password;e.logIn({email:r,password:n})})),children:[Object(se.jsx)("span",{className:"auth-form-title",children:"Sign In With"}),Object(se.jsxs)("div",{className:"login-button-wrapper",children:[Object(se.jsxs)(ce.a.div,{onClick:p,className:"auth-github login-button",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(31, 69, 112, 1)"},children:[Object(se.jsx)(de,{}),"GitHub"]}),Object(se.jsx)(ce.a.div,{onClick:O,className:"auth-google login-button",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(31, 69, 112, 1)"},children:"Google"})]}),Object(se.jsx)("div",{className:"auth-input-label",children:"Email"}),Object(se.jsx)(ne.a,{className:"auth-input",component:ie,name:"email"}),Object(se.jsx)("div",{className:"auth-input-label",children:"Password"}),Object(se.jsx)(ne.a,{className:"auth-input",component:ie,name:"password",type:"password"}),Object(se.jsx)("div",{className:"form-error-wrapper",children:Object(se.jsx)("div",{className:"form-error",children:e.error})}),Object(se.jsx)("div",{className:"auth-submit-container",children:Object(se.jsx)(ce.a.button,{className:"auth-submit-button",type:"submit",transition:{duration:.3},whileHover:{boxShadow:"0px 4px 8px 0px rgba(31, 69, 112, 1)",textShadow:"0px 0px 1px rgba(120, 120, 158, 0.74)"},children:Object(se.jsx)("p",{children:"Sign In"})})}),Object(se.jsx)("div",{className:"auth-signUp",children:Object(se.jsxs)("p",{children:["Not a member? ",Object(se.jsx)(ce.a.span,{className:"auth-text-link",onClick:e.signUpForm,whileHover:{color:"rgb(78,65,113)"},children:"Sign up now"})]})})]})})})),be=Object(i.b)(null,{logIn:function(e){var t=e.email,r=e.password;return function(e){var n=m({email:t,password:r});e(n?C(n):Object(g.a)("signInForm",{_error:"Invalid email or password",email:" ",password:" "}))}}})(je),he="PHOTO_MANAGER/AUTH_LOGIN_LIST/SET_EMAIL_PASS_LOGIN",pe="PHOTO_MANAGER/AUTH_LOGIN_LIST/SET_SIGN_UP",Oe={authLogin:"signInEmailPass"},me=function(e,t){switch(t.type){case he:return Object(u.a)(Object(u.a)({},e),{},{authLogin:"signInEmailPass"});case pe:return Object(u.a)(Object(u.a)({},e),{},{authLogin:"signUp"});default:return e}},fe=function(){var e=Object(n.useReducer)(me,Oe),t=Object(re.a)(e,2),r=t[0],a=t[1];switch(r.authLogin){case"signUp":return Object(se.jsx)(ue,{signInForm:function(){return a({type:he})}});case"signInEmailPass":return Object(se.jsx)(be,{signUpForm:function(){return a({type:pe})}})}},xe=function(){return Object(se.jsx)("div",{className:"auth-wrapper",children:Object(se.jsx)("div",{className:"auth-container",children:Object(se.jsx)("div",{className:"auth-content",children:Object(se.jsx)(fe,{})})})})},ge=r(103),ve=r.n(ge),we=function(){return Object(se.jsx)("div",{className:ve.a.preloader,children:Object(se.jsx)("div",{className:ve.a.spinner})})},Se=function(e){var t=e.user,r=void 0===t?"My":t;return Object(se.jsx)("h1",{className:"text",children:"".concat(r," Pictures")})},Ne=r(288),Pe={hidden:{opacity:0},visible:{opacity:1,transition:{duration:2,ease:"easeInOut"}}},_e=function(e){var t=e.width,r=void 0===t?"24px":t,a=e.height,c=void 0===a?"24px":a,s=(e.fill,Object(n.useState)("rgb(102,102,255)")),i=Object(re.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(!1),d=Object(re.a)(u,2),j=(d[0],d[1]);return Object(se.jsx)(Ne.a,{transition:{duration:.2},children:Object(se.jsxs)(ce.a.svg,{width:r,height:c,variants:Pe,initial:"hidden",animate:"visible",transition:{duration:2},onHoverStart:function(e){l("#ad78e2"),j(!0)},onHoverEnd:function(e){l("rgb(102,102,255)"),j(!1)},version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512",children:[Object(se.jsx)(ce.a.path,{animate:{fill:o},d:"M256,11C120.9,11,11,120.9,11,256s109.9,245,245,245s245-109.9,245-245S391.1,11,256,11z M256,460.2\r c-112.6,0-204.2-91.6-204.2-204.2S143.4,51.8,256,51.8S460.2,143.4,460.2,256S368.6,460.2,256,460.2z",fill:"rgb(102,102,255)"}),Object(se.jsx)(ce.a.path,{animate:{fill:o},d:"m357.6,235.6h-81.2v-81.2c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v81.2h-81.2c-11.3,\r 0-20.4,9.1-20.4,20.4s9.1,20.4 20.4,20.4h81.2v81.2c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-81.2h81.2c11.3,0 20.4-9.1 20.4-20.4s-9.1-20.4-20.4-20.4z",fill:"rgb(102,102,255)"})]})})},ye=Object(i.b)((function(e){return{userId:e.auth.authUserProfile.uid}}),{addNewPhoto:function(e){return function(t){t(W(!0)),function(e){var t=e.userId,r=e.file,n=e.setProgress,a=e.setError,c=e.setUrl,s=Object(k.d)(G,"user_".concat(t)),i=Object(k.d)(s,r.name),o=Object(F.g)();Object(k.e)(i,r).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){a(e)}),Object(h.a)(b.a.mark((function e(){var n,a,s,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(k.b)(i);case 2:return n=e.sent,c(n),a={addedTime:o,name:r.name,imageUrl:n},e.next=7,Object(F.a)(Object(F.b)(M,"user_".concat(t)),a);case 7:return s=e.sent,l=s.id,e.next=11,Object(F.h)(Object(F.d)(M,"common_photos",l),a);case 11:case"end":return e.stop()}}),e)}))))}(e),t(W(!1))}}})((function(e){var t=e.file,r=e.setFile,a=e.userId,c=e.addNewPhoto,s=Object(n.useState)(0),i=Object(re.a)(s,2),o=i[0],l=i[1],u=Object(n.useState)(null),d=Object(re.a)(u,2),j=(d[0],d[1]),b=Object(n.useState)(null),h=Object(re.a)(b,2),p=h[0],O=h[1];return Object(n.useEffect)((function(){c({userId:a,file:t,setProgress:l,setError:j,setUrl:O})}),[t]),Object(n.useEffect)((function(){p&&r(null)}),[p]),Object(se.jsx)(ce.a.div,{className:"progress-bar",initial:{width:0},animate:{width:o+"%"}})})),Ie=function(){var e=Object(n.useState)(null),t=Object(re.a)(e,2),r=t[0],a=t[1],c=Object(n.useState)(null),s=Object(re.a)(c,2),i=s[0],o=s[1],l=["image/png","image/jpeg"];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsxs)("div",{className:"wrapper-input",children:[Object(se.jsx)("input",{className:"inputfile",type:"file",onChange:function(e){var t=e.target.files[0];t&&l.includes(t.type)?(a(t),o("")):(a(null),o("Please choose png or jpeg file"))},id:"inputImage"}),Object(se.jsx)("label",{className:"inputImage",htmlFor:"inputImage",children:Object(se.jsx)(_e,{})})]}),Object(se.jsxs)("div",{className:"output",children:[i&&Object(se.jsx)("div",{className:"error",children:i}),r&&Object(se.jsx)("div",{children:r.name}),r&&Object(se.jsx)(ye,{file:r,setFile:a})]})]})},Ce=function(){return Object(se.jsxs)(ce.a.svg,{className:"delete-picture",opacity:.4,whileHover:{opacity:1},xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24px",height:"24px",children:[Object(se.jsxs)("defs",{children:[Object(se.jsxs)("linearGradient",{id:"linear0",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(se.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(se.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(se.jsxs)("linearGradient",{id:"linear1",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(se.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(se.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(se.jsxs)("linearGradient",{id:"linear2",gradientUnits:"userSpaceOnUse",x1:"113",y1:"73.566528",x2:"113",y2:"150.777313",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(se.jsx)("stop",{offset:"0",style:{stopColor:"rgb(100%, 100%, 100%)",stopOpacity:1}}),Object(se.jsx)("stop",{offset:"1",style:{stopColor:"rgb(69.803923%, 54.901963%, 94.509804%)",stopOpacity:1}})]})]}),Object(se.jsxs)("g",{id:"surface28850912",children:[Object(se.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear0)"},d:"M 12 21.75 C 6.625 21.75 2.25 17.375 2.25 12 C 2.25 6.625 6.625 2.25 12 2.25 C 17.375 2.25 21.75 6.625 21.75 12 C 21.75 17.375 17.375 21.75 12 21.75 Z M 12 3 C 7.039062 3 3 7.039062 3 12 C 3 16.960938 7.039062 21 12 21 C 16.960938 21 21 16.960938 21 12 C 21 7.039062 16.960938 3 12 3 Z M 12 3 "}),Object(se.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear1)"},d:"M 12 19.5 C 7.863281 19.5 4.5 16.136719 4.5 12 C 4.5 7.863281 7.863281 4.5 12 4.5 C 16.136719 4.5 19.5 7.863281 19.5 12 C 19.5 16.136719 16.136719 19.5 12 19.5 Z M 12 5.25 C 8.277344 5.25 5.25 8.277344 5.25 12 C 5.25 15.722656 8.277344 18.75 12 18.75 C 15.722656 18.75 18.75 15.722656 18.75 12 C 18.75 8.277344 15.722656 5.25 12 5.25 Z M 12 5.25 "}),Object(se.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear2)"},d:"M 15.257812 9.273438 L 14.726562 8.738281 C 14.574219 8.585938 14.324219 8.585938 14.171875 8.738281 L 12 10.910156 L 9.828125 8.742188 C 9.675781 8.585938 9.425781 8.585938 9.273438 8.742188 L 8.742188 9.273438 C 8.585938 9.425781 8.585938 9.675781 8.742188 9.828125 L 10.910156 12 L 8.742188 14.171875 C 8.585938 14.324219 8.585938 14.574219 8.742188 14.726562 L 9.273438 15.257812 C 9.425781 15.414062 9.675781 15.414062 9.828125 15.257812 L 12 13.089844 L 14.171875 15.257812 C 14.324219 15.414062 14.574219 15.414062 14.726562 15.257812 L 15.257812 14.726562 C 15.414062 14.574219 15.414062 14.324219 15.257812 14.171875 L 13.089844 12 L 15.257812 9.828125 C 15.414062 9.675781 15.414062 9.425781 15.257812 9.273438 Z M 15.257812 9.273438 "})]})]})},Ee=Object(i.b)((function(e){return{userId:e.auth.authUserProfile.uid}}),{deletePhoto:function(e){return function(t){t(X(!0)),function(e){var t=e.userId,r=e.imageName,n=e.imageFirebaseId;R({userId:t,imageName:r,imageFirebaseId:n}),D({imageFirebaseId:n})}(e),t(X(!1))}}})((function(e){var t=e.imageName,r=e.imageFirebaseId,n=e.userId,a=e.deletePhoto;return Object(se.jsx)("div",{onClick:function(){a({imageName:t,imageFirebaseId:r,userId:n})},children:Object(se.jsx)(Ce,{})})})),Ue=function(e){var t=e.setSelectedPhoto,r=e.doc,n=(e.userId,r&&r.sort((function(e,t){if(t.addedTime&&e.addedTime)return t.addedTime.seconds-e.addedTime.seconds})).map((function(e){return Object(se.jsxs)(ce.a.li,{className:"image-wrapper",layout:!0,transition:{duration:.275},whileHover:{opacity:1,boxShadow:"0 0 8px rgba(128,0,128,0.5)"},children:[Object(se.jsx)(Ee,{imageName:e.name,imageFirebaseId:e.id}),Object(se.jsx)("img",{onClick:function(){return t(e.imageUrl)},src:e.imageUrl,alt:"imageFromBase"})]},e.id)})));return Object(se.jsx)(se.Fragment,{children:n})},Te=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.photoStorage.commonPhotos}));return Object(n.useEffect)((function(){var t=Object(F.f)(Object(F.b)(M,"common_photos"),(function(t){var r=[];t.forEach((function(e){r.push(Object(u.a)({id:e.id},e.data()))})),e(function(e){return{type:B,commonPhotos:e}}(r))}));return function(){return t()}}),[]),[t]},Ae=Object(i.b)((function(e){return{authUserId:e.auth.authUserProfile.uid,userPhotos:e.photoStorage.authUserPhotos,commonPhotos:e.photoStorage.commonPhotos}}))((function(e){var t="",r=function(e){var t=Object(n.useState)([]),r=Object(re.a)(t,2),a=r[0],c=r[1],s=Object(i.c)();return Object(n.useEffect)((function(){s(W(!0));var t=Object(F.f)(Object(F.b)(M,"user_".concat(e)),(function(e){var t=[];e.forEach((function(e){t.push(Object(u.a)({id:e.id},e.data()))})),c(t)}));return function(){return t()}}),[]),s(W(!1)),[a]}(e.authUserId),a=Object(re.a)(r,1)[0];switch(a&&a.length){case 1:t="one-photo-grid";break;case 2:t="two-photo-grid";break;default:t="photos-wrapper"}return Object(se.jsx)("div",{children:Object(se.jsx)("ul",{className:t,children:Object(se.jsx)(Ue,Object(u.a)(Object(u.a)({},e),{},{doc:a}))})})})),Le=function(e){var t=e.selectedPhoto,r=e.setSelectedPhoto;return Object(se.jsx)("div",{onClick:function(e){e.target.classList.contains("selectedPhoto-wrapper")&&r(null)},className:"selectedPhoto-wrapper",children:Object(se.jsx)(ce.a.img,{src:t,alt:"selectedPhoto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.275}})})},ke=function(){var e=Object(n.useState)(null),t=Object(re.a)(e,2),r=t[0],a=t[1];return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Se,{}),Object(se.jsx)(Ie,{fill:"#8A2BE2",stroke:"#8A2BE2"}),Object(se.jsx)(Ae,{setSelectedPhoto:a}),r&&Object(se.jsx)(Le,{selectedPhoto:r,setSelectedPhoto:a})]})},He=Object(i.b)(null,{logOut:function(){return function(e){x(),e({type:S})}}})((function(e){var t=e.logOut;return Object(se.jsx)("div",{className:"buttonLogOut",children:Object(se.jsx)("button",{onClick:t,children:"Sign Out"})})})),Fe=r(84),Ge=r.n(Fe),Me=function(e){var t=e.isOn,r=e.handleToggle,n=e.onColor;return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)("input",{checked:t,onChange:r,className:Ge.a.reactSwitchCheckbox,id:"react-switch-new",type:"checkbox"}),Object(se.jsx)("label",{style:{background:t&&n},className:Ge.a.reactSwitchLabel,htmlFor:"react-switch-new",children:Object(se.jsx)("span",{className:Ge.a.reactSwitchButton})})]})},Re=function(){var e=Object(i.c)(),t=Object(i.d)((function(e){return e.photoStorage.isLookingMyPhotos}));return Object(se.jsxs)("div",{className:"switchPhotosWrapper",children:[Object(se.jsx)(Me,{isOn:t,onColor:"#7366bd",handleToggle:function(){return e({type:J})}}),Object(se.jsx)("p",{className:"switchPhotosLabel",children:t?"Swipe to view common pictures":"Swipe to view my pictures"})]})},De=function(){return Object(se.jsxs)("header",{children:[Object(se.jsx)(de,{}),Object(se.jsx)(He,{})]})},ze=function(){var e="",t=Te(),r=Object(re.a)(t,1)[0];switch(r&&r.length){case 1:e="one-photo-grid";break;case 2:e="two-photo-grid";break;default:e="photos-wrapper"}return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Se,{user:"Common"}),Object(se.jsx)("div",{className:"ololo",children:Object(se.jsx)("ul",{className:e,children:Object(se.jsx)(Ue,{doc:r})})})]})},Be=function(){var e=Object(i.d)((function(e){return e.photoStorage.isLookingMyPhotos}));return Object(se.jsxs)(se.Fragment,{children:[Object(se.jsx)(Re,{}),e?Object(se.jsx)(ke,{}):Object(se.jsx)(ze,{})]})};var Ze=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,isInit:e.initialiseApp.isInitialized}}),{initialize:L})((function(){return Object(se.jsxs)("div",{className:"main-wrapper",children:[Object(se.jsx)(De,{}),Object(se.jsx)(Be,{})]})}));var Ve=Object(i.b)((function(e){return{isAuth:e.auth.isAuth,isInit:e.initialiseApp.isInitialized}}),{initialize:L})((function(e){var t=e.isAuth,r=e.isInit,a=e.initialize;return Object(n.useEffect)((function(){var e=Object(d.d)();Object(d.e)(e,function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t?a(t):a();case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),r?Object(se.jsx)(se.Fragment,{children:t?Object(se.jsx)(Ze,{}):Object(se.jsx)(xe,{})}):Object(se.jsx)(we,{})}));s.a.render(Object(se.jsx)(a.a.StrictMode,{children:Object(se.jsx)(te.a,{children:Object(se.jsx)(i.a,{store:ee,children:Object(se.jsx)(Ve,{})})})}),document.getElementById("root"))},84:function(e,t,r){e.exports={reactSwitchCheckbox:"Switch_reactSwitchCheckbox__3oClo",reactSwitchLabel:"Switch_reactSwitchLabel__2912f",reactSwitchButton:"Switch_reactSwitchButton__rnE5P"}}},[[284,1,2]]]);
//# sourceMappingURL=main.c180b8ef.chunk.js.map