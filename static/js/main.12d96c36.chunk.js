(this["webpackJsonpphoto-meneger"]=this["webpackJsonpphoto-meneger"]||[]).push([[0],{50:function(e,t,n){},51:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var r=n(5),a=n.n(r),c=n(44),s=n.n(c),i=(n(50),n(14)),o=(n(51),n(8)),l=function(e){var t=e.user,n=void 0===t?"My":t;return Object(o.jsx)("h1",{className:"text",children:"".concat(n," Pictures")})},j=n(70),u=n(71),d={hidden:{opacity:0},visible:{opacity:1,transition:{duration:2,ease:"easeInOut"}}},b=function(e){var t=e.width,n=void 0===t?"24px":t,a=e.height,c=void 0===a?"24px":a,s=(e.fill,Object(r.useState)("rgb(102,102,255)")),l=Object(i.a)(s,2),b=l[0],p=l[1],O=Object(r.useState)(!1),f=Object(i.a)(O,2),h=(f[0],f[1]);return Object(o.jsx)(j.a,{transition:{duration:.2},children:Object(o.jsxs)(u.a.svg,{width:n,height:c,variants:d,initial:"hidden",animate:"visible",transition:{duration:2},onHoverStart:function(e){p("#ad78e2"),h(!0)},onHoverEnd:function(e){p("rgb(102,102,255)"),h(!1)},version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","enable-background":"new 0 0 512 512",children:[Object(o.jsx)(u.a.path,{animate:{fill:b},d:"M256,11C120.9,11,11,120.9,11,256s109.9,245,245,245s245-109.9,245-245S391.1,11,256,11z M256,460.2\r c-112.6,0-204.2-91.6-204.2-204.2S143.4,51.8,256,51.8S460.2,143.4,460.2,256S368.6,460.2,256,460.2z",fill:"rgb(102,102,255)"}),Object(o.jsx)(u.a.path,{animate:{fill:b},d:"m357.6,235.6h-81.2v-81.2c0-11.3-9.1-20.4-20.4-20.4-11.3,0-20.4,9.1-20.4,20.4v81.2h-81.2c-11.3,\r 0-20.4,9.1-20.4,20.4s9.1,20.4 20.4,20.4h81.2v81.2c0,11.3 9.1,20.4 20.4,20.4 11.3,0 20.4-9.1 20.4-20.4v-81.2h81.2c11.3,0 20.4-9.1 20.4-20.4s-9.1-20.4-20.4-20.4z",fill:"rgb(102,102,255)"})]})})},p=n(0),O=n.n(p),f=n(4),h=n(24),m=n(45),x=n(21);Object(m.a)({apiKey:"AIzaSyCabll9MrWiJ49ycRHOa43D9l8lHHlo-6s",authDomain:"photo-meneger.firebaseapp.com",projectId:"photo-meneger",storageBucket:"photo-meneger.appspot.com",messagingSenderId:"187018482745",appId:"1:187018482745:web:74ea2a0c06a33fb66929e8",measurementId:"G-2MRR3CB7KB"});var g=Object(h.c)(),v=Object(x.e)(),y=function(e){var t=Object(r.useState)(0),n=Object(i.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)(null),o=Object(i.a)(s,2),l=o[0],j=o[1],u=Object(r.useState)(null),d=Object(i.a)(u,2),b=d[0],p=d[1];return Object(r.useEffect)((function(){var t=Object(h.d)(g,"user1"),n=Object(h.d)(t,e.name),r=Object(x.g)();Object(h.e)(n,e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;c(t)}),(function(e){j(e)}),Object(f.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(h.b)(n);case 2:return a=t.sent,p(a),t.next=6,Object(x.a)(Object(x.b)(v,"user1"),{name:e.name,imageUrl:a,addedTime:r});case 6:case"end":return t.stop()}}),t)}))))}),[e]),{progress:a,url:b,error:l}},w=function(e){var t=e.file,n=e.setFile,a=y(t),c=a.url,s=a.progress;return Object(r.useEffect)((function(){c&&n(null)}),[c]),Object(o.jsx)(u.a.div,{className:"progress-bar",initial:{width:0},animate:{width:s+"%"}})},C=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(null),s=Object(i.a)(c,2),l=s[0],j=s[1],u=["image/png","image/jpeg"];return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("div",{className:"wrapper-input",children:[Object(o.jsx)("input",{className:"inputfile",type:"file",onChange:function(e){var t=e.target.files[0];t&&u.includes(t.type)?(a(t),j("")):(a(null),j("Please choose png or jpeg file"))},id:"inputImage"}),Object(o.jsx)("label",{className:"inputImage",htmlFor:"inputImage",children:Object(o.jsx)(b,{})})]}),Object(o.jsxs)("div",{className:"output",children:[l&&Object(o.jsx)("div",{className:"error",children:l}),n&&Object(o.jsx)("div",{children:n.name}),n&&Object(o.jsx)(w,{file:n,setFile:a})]})]})},S=n(32),k=(n(66),function(){var e=Object(f.a)(O.a.mark((function e(t,n){var r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"user1",r=Object(h.d)(g,"".concat("user1","/").concat(t)),Object(h.a)(r).then((function(){console.log("Photo has been deleted: ")})).catch((function(e){console.log("Error deleting photo: ",e)})),e.next=5,Object(x.c)(Object(x.d)(v,"user1","".concat(n)));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),M=function(e){var t=e.fileName,n=e.imageId;return Object(o.jsxs)(u.a.svg,{onClick:function(){return k(t,n)},className:"delete-picture",opacity:.4,whileHover:{opacity:1},xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 24 24",width:"24px",height:"24px",children:[Object(o.jsxs)("defs",{children:[Object(o.jsxs)("linearGradient",{id:"linear0",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(o.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(o.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(o.jsxs)("linearGradient",{id:"linear1",gradientUnits:"userSpaceOnUse",x1:"113",y1:"17.65625",x2:"113",y2:"208.81694",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(o.jsx)("stop",{offset:"0",style:{stopColor:"rgb(89.803922%, 69.803923%, 79.215688%)",stopOpacity:1}}),Object(o.jsx)("stop",{offset:"1",style:{stopColor:"rgb(43.921569%, 15.686275%, 89.411765%)",stopOpacity:1}})]}),Object(o.jsxs)("linearGradient",{id:"linear2",gradientUnits:"userSpaceOnUse",x1:"113",y1:"73.566528",x2:"113",y2:"150.777313",gradientTransform:"matrix(0.106195,0,0,0.106195,0,0)",children:[Object(o.jsx)("stop",{offset:"0",style:{stopColor:"rgb(100%, 100%, 100%)",stopOpacity:1}}),Object(o.jsx)("stop",{offset:"1",style:{stopColor:"rgb(69.803923%, 54.901963%, 94.509804%)",stopOpacity:1}})]})]}),Object(o.jsxs)("g",{id:"surface28850912",children:[Object(o.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear0)"},d:"M 12 21.75 C 6.625 21.75 2.25 17.375 2.25 12 C 2.25 6.625 6.625 2.25 12 2.25 C 17.375 2.25 21.75 6.625 21.75 12 C 21.75 17.375 17.375 21.75 12 21.75 Z M 12 3 C 7.039062 3 3 7.039062 3 12 C 3 16.960938 7.039062 21 12 21 C 16.960938 21 21 16.960938 21 12 C 21 7.039062 16.960938 3 12 3 Z M 12 3 "}),Object(o.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear1)"},d:"M 12 19.5 C 7.863281 19.5 4.5 16.136719 4.5 12 C 4.5 7.863281 7.863281 4.5 12 4.5 C 16.136719 4.5 19.5 7.863281 19.5 12 C 19.5 16.136719 16.136719 19.5 12 19.5 Z M 12 5.25 C 8.277344 5.25 5.25 8.277344 5.25 12 C 5.25 15.722656 8.277344 18.75 12 18.75 C 15.722656 18.75 18.75 15.722656 18.75 12 C 18.75 8.277344 15.722656 5.25 12 5.25 Z M 12 5.25 "}),Object(o.jsx)("path",{style:{stroke:"none",fillRule:"nonzero",fill:"url(#linear2)"},d:"M 15.257812 9.273438 L 14.726562 8.738281 C 14.574219 8.585938 14.324219 8.585938 14.171875 8.738281 L 12 10.910156 L 9.828125 8.742188 C 9.675781 8.585938 9.425781 8.585938 9.273438 8.742188 L 8.742188 9.273438 C 8.585938 9.425781 8.585938 9.675781 8.742188 9.828125 L 10.910156 12 L 8.742188 14.171875 C 8.585938 14.324219 8.585938 14.574219 8.742188 14.726562 L 9.273438 15.257812 C 9.425781 15.414062 9.675781 15.414062 9.828125 15.257812 L 12 13.089844 L 14.171875 15.257812 C 14.324219 15.414062 14.574219 15.414062 14.726562 15.257812 L 15.257812 14.726562 C 15.414062 14.574219 15.414062 14.324219 15.257812 14.171875 L 13.089844 12 L 15.257812 9.828125 C 15.414062 9.675781 15.414062 9.425781 15.257812 9.273438 Z M 15.257812 9.273438 "})]})]})},N=function(e){var t=e.setSelectedPhoto,n=e.doc,r=n&&n.sort((function(e,t){if(t.addedTime&&e.addedTime)return t.addedTime.seconds-e.addedTime.seconds})).map((function(e){return Object(o.jsxs)(u.a.li,{className:"image-wrapper",layout:!0,transition:{duration:.275},whileHover:{opacity:1,boxShadow:"0 0 8px rgba(128,0,128,0.5)"},children:[Object(o.jsx)(M,{fileName:e.name,imageId:e.id}),Object(o.jsx)("img",{onClick:function(){return t(e.imageUrl)},src:e.imageUrl,alt:"imageFromBase"})]},e.id)}));return Object(o.jsx)(o.Fragment,{children:r})},L=function(e){var t="",n=function(e){var t=Object(r.useState)([]),n=Object(i.a)(t,2),a=n[0],c=n[1];return Object(r.useEffect)((function(){var t=Object(x.f)(Object(x.b)(v,e),(function(e){var t=[];e.forEach((function(e){t.push(Object(S.a)({id:e.id},e.data()))})),c(t)}));return function(){return t()}}),[e]),[a]}("user1"),a=Object(i.a)(n,1)[0];switch(a&&a.length){case 1:t="one-photo-grid";break;case 2:t="two-photo-grid";break;default:t="photos-wrapper"}return Object(o.jsx)("div",{children:Object(o.jsx)("ul",{className:t,children:Object(o.jsx)(N,Object(S.a)(Object(S.a)({},e),{},{doc:a}))})})},I=function(e){var t=e.selectedPhoto,n=e.setSelectedPhoto;return Object(o.jsx)("div",{onClick:function(e){e.target.classList.contains("selectedPhoto-wrapper")&&n(null)},className:"selectedPhoto-wrapper",children:Object(o.jsx)(u.a.img,{src:t,alt:"selectedPhoto",initial:{opacity:0},animate:{opacity:1},transition:{duration:.275}})})};var P=function(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(o.jsxs)("div",{className:"main-wrapper",children:[Object(o.jsx)(l,{}),Object(o.jsx)(C,{fill:"#8A2BE2",stroke:"#8A2BE2"}),Object(o.jsx)(L,{setSelectedPhoto:a}),n&&Object(o.jsx)(I,{selectedPhoto:n,setSelectedPhoto:a})]})};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(P,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.12d96c36.chunk.js.map